<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Monaco Editor - Fenix IDE 2.0</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #1e1e1e;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: #007acc;
            margin-bottom: 30px;
        }

        .test-section {
            background: #2d2d30;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .test-section h2 {
            color: #ffffff;
            margin-bottom: 15px;
        }

        .test-result {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }

        .test-success {
            background: #2d5a2d;
            color: #90ee90;
        }

        .test-error {
            background: #5a2d2d;
            color: #ff6b6b;
        }

        .test-warning {
            background: #5a5a2d;
            color: #ffff90;
        }

        #monaco-test {
            height: 400px;
            border: 1px solid #3e3e42;
            border-radius: 4px;
        }

        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        .status.loading {
            background: #ffa500;
            color: #000;
        }

        .status.success {
            background: #00ff00;
            color: #000;
        }

        .status.error {
            background: #ff0000;
            color: #fff;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üß™ Teste Monaco Editor - Fenix IDE 2.0</h1>

        <div class="test-section">
            <h2>Status do Carregamento</h2>
            <div id="loading-status" class="status loading">Carregando...</div>
            <div id="test-results"></div>
        </div>

        <div class="test-section">
            <h2>Editor de Teste</h2>
            <p>Se o Monaco Editor carregou corretamente, voc√™ ver√° um editor funcional abaixo:</p>
            <div id="monaco-test"></div>
        </div>

        <div class="test-section">
            <h2>Teste de IntelliSense</h2>
            <p>Digite <code>!</code> e pressione <code>Tab</code> para testar o IntelliSense:</p>
            <div id="intellisense-test"></div>
        </div>
    </div>

    <script src="monaco-config.js"></script>
    <script>
        const testResults = document.getElementById('test-results');
        const loadingStatus = document.getElementById('loading-status');

        function addTestResult(message, type = 'success') {
            const div = document.createElement('div');
            div.className = `test-result test-${type}`;
            div.textContent = message;
            testResults.appendChild(div);
        }

        async function runTests() {
            try {
                addTestResult('Iniciando testes do Monaco Editor...', 'warning');

                // Teste 1: Carregar Monaco Editor
                addTestResult('Teste 1: Carregando Monaco Editor...', 'warning');
                const monaco = await window.loadMonacoWithFallback();
                addTestResult('‚úÖ Teste 1: Monaco Editor carregado com sucesso!', 'success');

                // Teste 2: Criar editor
                addTestResult('Teste 2: Criando editor...', 'warning');
                const editor = monaco.editor.create(document.getElementById('monaco-test'), {
                    value: '<!DOCTYPE html>\n<html>\n<head>\n    <title>Teste</title>\n</head>\n<body>\n    <h1>Ol√° Mundo!</h1>\n</body>\n</html>',
                    language: 'html',
                    theme: 'vs-dark',
                    fontSize: 14,
                    minimap: { enabled: true },
                    wordWrap: 'on',
                    lineNumbers: 'on',
                    automaticLayout: true
                });
                addTestResult('‚úÖ Teste 2: Editor criado com sucesso!', 'success');

                // Teste 3: Configurar IntelliSense
                addTestResult('Teste 3: Configurando IntelliSense...', 'warning');
                monaco.languages.registerCompletionItemProvider('html', {
                    triggerCharacters: ['!', '<', ' '],
                    provideCompletionItems: (model, position) => {
                        const word = model.getWordUntilPosition(position);
                        const range = {
                            startLineNumber: position.lineNumber,
                            endLineNumber: position.lineNumber,
                            startColumn: word.startColumn,
                            endColumn: word.endColumn,
                        };

                        return {
                            suggestions: [
                                {
                                    label: '! ‚Üí HTML5 Template',
                                    kind: monaco.languages.CompletionItemKind.Snippet,
                                    insertText: '<!DOCTYPE html>\\n<html lang="pt-BR">\\n<head>\\n\\t<meta charset="UTF-8">\\n\\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\\n\\t<title>${1:T√≠tulo}</title>\\n</head>\\n<body>\\n\\t<h1>${2:Cabe√ßalho}</h1>\\n\\t<p>${3:Conte√∫do}</p>\\n</body>\\n</html>',
                                    insertTextRules: monaco.languages.CompletionItemInsertTextRule.InsertAsSnippet,
                                    detail: 'Template HTML5 completo',
                                    range: range,
                                    sortText: '!',
                                    preselect: true
                                }
                            ]
                        };
                    }
                });
                addTestResult('‚úÖ Teste 3: IntelliSense configurado com sucesso!', 'success');

                // Teste 4: Criar editor de teste do IntelliSense
                const intellisenseEditor = monaco.editor.create(document.getElementById('intellisense-test'), {
                    value: 'Digite ! e pressione Tab',
                    language: 'html',
                    theme: 'vs-dark',
                    fontSize: 14,
                    automaticLayout: true
                });
                addTestResult('‚úÖ Teste 4: Editor de IntelliSense criado!', 'success');

                // Atualizar status
                loadingStatus.textContent = 'Todos os testes passaram!';
                loadingStatus.className = 'status success';

                addTestResult('üéâ Todos os testes passaram! O Monaco Editor est√° funcionando perfeitamente!', 'success');

            } catch (error) {
                addTestResult(`‚ùå Erro nos testes: ${error.message}`, 'error');
                loadingStatus.textContent = 'Testes falharam';
                loadingStatus.className = 'status error';
                console.error('Erro nos testes:', error);
            }
        }

        // Executar testes quando a p√°gina carregar
        document.addEventListener('DOMContentLoaded', runTests);
    </script>
</body>

</html>






